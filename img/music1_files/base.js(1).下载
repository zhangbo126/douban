!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(e){return t[e]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=173)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=!("undefined"==typeof window||!window.document||!window.document.createElement),t.exports=e.default},function(t,e,n){"use strict";var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,n){"use strict";var r=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(t,e,n){"use strict";n(59),t.exports=n(2).Object.assign},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.addClass=e.hasClass=e.removeClass=e.toArray=e.bind=e.query=e.classname=e.cls=e.domEvent=e.domClass=e.dom=void 0;var o=r(n(69)),i=r(n(82)),a=r(n(38)),u=r(n(3)),s=r(n(87)),c=e.dom=o.default;e.domClass=i.default,e.domEvent=a.default,e.cls=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"{name}";return t.replace(n,e)},e.classname=function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return""+(2===n.length?n[0]:"")+t+"-"+n.pop()}},e.query=function(t,e){return c.querySelectorAll(e||document.body,t)},e.bind=function(t,e){return function(n){return t.call(e,n)}},e.toArray=function(t){return Array.prototype.slice.call(t)},e.removeClass=function(t,e){t&&(t.className=(0,s.default)(t.className.split(" "),function(t){return t!==e}).join(" "))},e.hasClass=function(t,e){return(0,s.default)(t.className.split(" "),function(t){return t===e}).length>0},e.addClass=function(t,e){if(t&&!((","+t.className.replace(/\s/g,",")+",").indexOf(","+e+",")+1)){var n=(0,s.default)(t.className.split(" "),function(t){return t});t.className=n.length?n.concat([e]).join(" "):e}},e.createElement=function(t,e,n){var r=document.createElement(t);return(0,u.default)(r,n),e&&(r.innerHTML=e),r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t===t.window?t:9===t.nodeType&&(t.defaultView||t.parentWindow)},t.exports=e.default},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":r(t))?null!==t:"function"==typeof t}},function(t,e,n){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.rohanEvent=e.formatPhone=e.addEvent=e.getField=e.ajaxJson=e.btnIsAble=e.getQuery=e.strLen=e.REG=e.BTN_ACTIVE=e.NEW_ACCOUNT=e.DOUBAN_ACCOUNT=e.DOUBAN=e.isFrodo=e.isMobile=e.isApp=e.getApiKey=void 0;var o=r(n(89)),i=r(n(47)),a=r(n(3)),u=r(n(39)),s=n(4),c=e.getApiKey=function(){var t=window.current_app,e=void 0;return t?((e=t.getClientVariables())||alert("暂时无法操作，请稍后再试(1)"),"string"==typeof e&&((e=JSON.parse(e))||alert("暂时无法操作，请稍后再试(2)"))):alert("暂时无法操作，请稍后再试(0)"),e},f=e.isApp=(0,u.default)("app"),l=e.isMobile=(0,u.default)("mobile"),d=e.isFrodo=(0,u.default)("frodo"),p=(e.DOUBAN=l?"https://m.douban.com":"https://www.douban.com",e.DOUBAN_ACCOUNT="https://accounts.douban.com",e.NEW_ACCOUNT="/passport/",e.BTN_ACTIVE="btn-active",e.REG={phone:/^[0-9]{11}$/,email:/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,dianxin:/(^133|153|180|181|189|177|149|173|199)\d{8}$|(^(170[0-2])\d{7}$)/},e.strLen=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r>=1&&r<=126||65376<=r&&r<=65439?e++:e+=2}return e},e.getQuery=function(t){for(var e=window.location,n="?"===e.search.charAt(0)&&e.search.slice(1),r={},o=n&&n.split("&")||[],i=o.length,a=0;a<i;a++){var u=o[a]&&o[a].split("="),s=decodeURIComponent(u[0]),c=decodeURIComponent(u[1]);r[s]=c}return r[t]||""},e.btnIsAble=function(){var t=document.getElementById("account"),e=!0;return(0,s.query)("input",t).filter(function(t){return"hidden"!==t.type}).map(function(t){t.value||(e=!1)}),e},e.ajaxJson=function(t){return new Promise(function(e,n){var r=window.location.href.indexOf("dae-pre")>-1?"0dad551ec0f84ed02907ff5c42e8ec70":"",u=i.default.get("apiKey")||"";f&&(u=i.default.get("apiKey")||c()&&c().apiKey||r,i.default.set("apiKey",u));var s=(0,a.default)({ck:i.default.get("ck")},t.data,f?{apikey:u}:{});o.default.ajax({url:t.url||"",type:t.type||"GET",dataType:t.dataType||"json",data:s||{},success:function(t){return e(t)},error:function(t,e,n){503!==t.status?alert("当前网络超时，请稍后再试"):alert(t.responseText)}})})},e.getField=function(t){return(0,s.query)("input[name="+t+"]")[0]},e.addEvent=function(t,e,n){return s.domEvent.on(t,e,n),{remove:function(){s.domEvent.off(t,e,n)}}},e.formatPhone=function(t,e){if(t&&e){var n=e.slice(0,3)+"****"+e.slice(-4);return"+86"===t?n:t+" "+e}},30);e.rohanEvent=function(t,e,n){if(d){var r="";if(e){var o={};"string"==typeof e?o.label=e:(e.desc&&(e.desc=encodeURIComponent(e.desc)),o=(0,a.default)(o,e)),n&&(o.error=n),r="&label="+JSON.stringify(o)}setTimeout(function(){if((0,s.query)("#rohan")[0])(0,s.query)("#rohan")[0].src="douban://douban.com/rohan_event?event=wyh_"+t+r;else{var e=document.createElement("iframe");e.id="rohan",e.src="douban://douban.com/rohan_event?event=wyh_"+t+r,e.style.display="none",document.body.appendChild(e)}},p+=10)}},document.getElementById("account")&&s.domEvent.on(document.getElementById("account"),"click",s.domEvent.filter("a.cancel",function(t){t.preventDefault(),window.history.go(-1)}))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,a.default)(t),n=(0,i.default)(e),r=e&&e.documentElement,u={top:0,left:0,height:0,width:0};if(e)return(0,o.default)(r,t)?(void 0!==t.getBoundingClientRect&&(u=t.getBoundingClientRect()),u={top:u.top+(n.pageYOffset||r.scrollTop)-(r.clientTop||0),left:u.left+(n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),width:(null==u.width?t.offsetWidth:u.width)||0,height:(null==u.height?t.offsetHeight:u.height)||0}):u};var o=r(n(15)),i=r(n(5)),a=r(n(30));t.exports=e.default},function(t,e,n){"use strict";t.exports=!n(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(1),o=n(2),i=n(23),a=n(49),u=n(17),s=function t(e,n,s){var c,f,l,d,p=e&t.F,h=e&t.G,m=e&t.P,v=e&t.B,y=h?r:e&t.S?r[n]||(r[n]={}):(r[n]||{}).prototype,g=h?o:o[n]||(o[n]={}),_=g.prototype||(g.prototype={});for(c in h&&(s=n),s)l=((f=!p&&y&&void 0!==y[c])?y:s)[c],d=v&&f?u(l,r):m&&"function"==typeof l?u(Function.call,l):l,y&&a(y,c,l,e&t.U),g[c]!=l&&i(g,c,d),m&&_[c]!=l&&(_[c]=l)};r.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,n){"use strict";var r=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+o).toString(36))}},function(t,e,n){"use strict";var r=n(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,i="#"===e[0],a="."===e[0],u=i||a?e.slice(1):e;return r.test(u)?i?(t=t.getElementById?t:document,(n=t.getElementById(u))?[n]:[]):o(t.getElementsByClassName&&a?t.getElementsByClassName(u):t.getElementsByTagName(e)):o(t.querySelectorAll(e))};var r=/^[\w-]*$/,o=Function.prototype.bind.call(Function.prototype.call,[].slice);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(e)do if(e===t)return!0;while(e=e.parentNode);return!1}Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(n(0));e.default=o.default?function(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):r(t,e)}:r,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){var r="",f="",l=e;if("string"==typeof e){if(void 0===n)return t.style[(0,o.default)(e)]||(0,a.default)(t).getPropertyValue((0,i.default)(e));(l={})[e]=n}Object.keys(l).forEach(function(e){var n=l[e];n||0===n?(0,c.default)(e)?f+=e+"("+n+") ":r+=(0,i.default)(e)+": "+n+";":(0,u.default)(t,(0,i.default)(e))}),f&&(r+=s.transform+": "+f+";"),t.style.cssText+=";"+r};var o=r(n(32)),i=r(n(72)),a=r(n(74)),u=r(n(75)),s=n(76),c=r(n(77));t.exports=e.default},function(t,e,n){"use strict";var r=n(46);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var r=n(26),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,n){"use strict";var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,n){"use strict";var r=n(25);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hideError=e.errorMsg=void 0;var r=n(4),o=function(t){return t&&t.__esModule?t:{default:t}}(n(41)),i=n(8),a="show-error",u=void 0,s=(0,r.query)(".account-body")[0];e.errorMsg=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fatal";clearTimeout(u),t&&(i.isMobile||i.isApp?(0,o.default)(t,{type:e}):function(t,e){if(t){var n=(0,r.query)(".account-form-raw",s)[0];if(n&&!(0,r.query)(".account-form-error",s)[0]){var o=document.createElement("div");o.className="account-form-error",o.innerHTML='\n      <span class="'+e+"-msg "+a+'">\n        '+t+"\n      </span>\n    ",n.appendChild(o)}else if(n=(0,r.query)(".account-form-error",s)[0]){var i=(0,r.query)("span",n)[0];(0,r.removeClass)(n,"hide"),(0,r.addClass)(n,a),(0,r.removeClass)(i,"hide"),(0,r.addClass)(i,e+"-msg"),i.innerHTML=t}(0,r.query)(".account-form-error span",s)[0]&&(u=setTimeout(function(){var t=(0,r.query)(".account-form-error",s)[0],e=(0,r.query)(".account-form-error span",s)[0];e.innerHTML="",(0,r.addClass)(e,"hide"),(0,r.removeClass)(t,a)},5e3))}}(t,e))},e.hideError=function(){var t=(0,r.query)(".account-form-error",s)[0];(0,r.query)("span",t)[0].innerHTML="",(0,r.addClass)(t,"hide")}},function(t,e,n){"use strict";var r=n(45),o=n(48);t.exports=n(10)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var r=n(13),o=n(25);t.exports=function(t){return r(o(t))}},function(t,e,n){"use strict";t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:r)(t)}},function(t,e,n){"use strict";var r=n(2),o=n(1),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(53)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){for(var n=(0,a.default)(t.document||t.ownerDocument,e),r=0;n[r]&&n[r]!==t;)r++;return!!n[r]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return!u&&i.default&&function(){var t=document.body,e=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;u=e?function(t,n){return e.call(t,n)}:o}(),u?u(t,e):null};var i=r(n(0)),a=r(n(14)),u=void 0;t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,i.default)(t);return n?n.innerHeight:e?t.clientHeight:(0,o.default)(t).height};var o=r(n(9)),i=r(n(5));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t&&t.ownerDocument||document},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return t.nodeName&&t.nodeName.toLowerCase()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e=(0,i.default)(t),n=t&&t.offsetParent;n&&"html"!==o(t)&&"static"===(0,a.default)(n,"position");)n=n.offsetParent;return n||e.documentElement};var i=r(n(30)),a=r(n(16));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,r.default)(t.replace(o,"ms-"))};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(71)),o=/^-ms-/;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,r.default)(t);return void 0===e?n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:t.scrollTop:void(n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,e):t.scrollTop=e)};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(5));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){};(function(t){return t&&t.__esModule?t:{default:t}})(n(0)).default&&(r=document.addEventListener?function(t,e,n,r){return t.addEventListener(e,n,r||!1)}:document.attachEvent?function(t,e,n){return t.attachEvent("on"+e,function(e){(e=e||window.event).target=e.target||e.srcElement,e.currentTarget=t,n.call(t,e)})}:void 0),e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){};(function(t){return t&&t.__esModule?t:{default:t}})(n(0)).default&&(r=document.addEventListener?function(t,e,n,r){return t.removeEventListener(e,n,r||!1)}:document.attachEvent?function(t,e,n){return t.detachEvent("on"+e,n)}:void 0),e.default=r,t.exports=e.default},function(t,e,n){"use strict";var r=n(27)("wks"),o=n(12),i=n(1).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.listen=e.filter=e.off=e.on=void 0;var o=r(n(35)),i=r(n(36)),a=r(n(85)),u=r(n(86));e.on=o.default,e.off=i.default,e.filter=a.default,e.listen=u.default,e.default={on:o.default,off:i.default,filter:a.default,listen:u.default}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o={frodo:"com.douban.frodo(?:.test)?/(\\d+).(\\d+).(\\d+)",movie_android:"com.douban.movie(?:.test)?/(\\d+).(\\d+).(\\d+)",movie_ios:"com.douban.doubanmovie(?:.test)?/(\\d+).(\\d+).(\\d+)",radio_android:"com.douban.radio(?:.test)?/(\\d+).(\\d+).(\\d+)",radio_ios:"com.douban.DoubanRadio(?:.test)?/(\\d+).(\\d+).(\\d+)",ark:"\\[Ark(?:[\\w-]*)\\/([\\d.]+[\\w-]*)\\]"},i=window.navigator.userAgent;e.default=function(t,e){try{var n=t.toString().toLowerCase(),a=void 0,u=Object.keys(o);if(u.toString().indexOf(n)>-1&&(a=new RegExp(o[n],"i"),Array.isArray(e)))return function(t,e){if(!t)return!1;var n=r(t,3),o=n[0],i=n[1],a=n[2],u=r(e,3),s=u[0],c=u[1],f=u[2];return o==s&&i==c&&a==f||o>s||o==s&&i>c||i==c&&a>f}(i.match(a)?i.match(a).slice(1):"",e);switch(n){case"app":if(!e){var s=[];u.map(function(t){s.push(o[t])}),a=new RegExp(s.join("|"),"i")}break;case"android":a=new RegExp(/Android/,"i");break;case"ios":a=new RegExp(/iPhone|iPad|iOS/,"i");break;case"mobile":a=new RegExp(/Android|iPhone|iPad|iPod|iOS|SymbianOS|Windows Phone/,"i")}return a.test(i)}catch(t){}}},function(t,e,n){"use strict";var r={utf8:{stringToBytes:function(t){return r.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(r.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(n(3)),a=r(n(38)),u=r(n(98)),s='\n  <div class="account-form-error-popup error-popup-in">\n    <div class="account-form-error-popup-body popup-{ typeClass }">\n      { msg }\n      <a href="javascript:;" class="account-form-error-popup-close">&times</a>\n    </div>\n  </div>\n',c=document.createElement("div");document.body.appendChild(c),a.default.on(c,"click",a.default.filter(".account-form-error-popup-close",function(t){t.preventDefault(),l().close()}));var f=0,l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,i.default)({},{type:"fatal",duration:3e3},e),r=function(t){f&&clearTimeout(f),""!==c.innerHTML&&(f=setTimeout(function(){var t=c.getElementsByClassName("account-form-error-popup")[0];t.className=t.className.replace("error-popup-in","error-popup-out"),a.default.on(t,u.default,function(){c.innerHTML="",t=null})},t))},l=function(t){var e="object"===(void 0===t?"undefined":o(t))?t[1]:t,r="object"===(void 0===t?"undefined":o(t))?t[0]:n.type||"fatal";c.innerHTML=s.replace("{ msg }",e).replace("{ typeClass }",r)};return t&&(l(t),r(n.duration)),{open:function(t){l(t),r(n.duration)},close:function(){r(0)}}};e.default=l},function(t,e,n){"use strict";var r=n(6);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";var r=n(17),o=n(13),i=n(21),a=n(18),u=n(64);t.exports=function(t,e){var n=1==t,s=2==t,c=3==t,f=4==t,l=6==t,d=5==t||l,p=e||u;return function(e,u,h){for(var m,v,y=i(e),g=o(y),_=r(u,h,3),b=a(g.length),w=0,E=n?p(e,b):s?p(e,0):void 0;b>w;w++)if((d||w in g)&&(v=_(m=g[w],w,y),t))if(n)E[w]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:E.push(m)}else if(f)return!1;return l?-1:c||f?f:E}}},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";var r=n(42),o=n(54),i=n(55),a=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a){var u=!1;if(void 0===(o="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=o),u=!0,"object"===i(e)&&(t.exports=a(),u=!0),!u){var s=window.Cookies,c=window.Cookies=a();c.noConflict=function(){return window.Cookies=s,c}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}return function e(n){function r(e,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=t({path:"/"},r.defaults,i)).expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*i.expires),i.expires=u}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(t){}o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c]));return document.cookie=e+"="+o+s}e||(a={});for(var f=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,d=0;d<f.length;d++){var p=f[d].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var m=p[0].replace(l,decodeURIComponent);if(h=n.read?n.read(h,m):n(h,m)||h.replace(l,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(t){}if(e===m){a=h;break}e||(a[m]=h)}catch(t){}}return a}}return r.set=r,r.get=function(t){return r.call(r,t)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}(function(){})})},function(t,e,n){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(1),o=n(23),i=n(19),a=n(12)("src"),u=Function.toString,s=(""+u).split("toString");n(2).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,u){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(c&&(i(n,a)||o(n,a,t[e]?""+t[e]:s.join(String(e)))),t===r?t[e]=n:u?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||u.call(this)})},function(t,e,n){"use strict";var r=n(6),o=n(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){"use strict";var r=n(61),o=n(57);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){"use strict";var r=n(27)("keys"),o=n(12);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){"use strict";t.exports=!1},function(t,e,n){"use strict";t.exports=!n(10)&&!n(7)(function(){return 7!=Object.defineProperty(n(50)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(6);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";var r=n(24),o=n(18),i=n(62);t.exports=function(t){return function(e,n,a){var u,s=r(e),c=o(s.length),f=i(a,c);if(t&&n!=n){for(;c>f;)if((u=s[f++])!=u)return!0}else for(;c>f;f++)if((t||f in s)&&s[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){"use strict";t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){"use strict";e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var r=n(11);r(r.S+r.F,"Object",{assign:n(60)})},function(t,e,n){"use strict";var r=n(51),o=n(63),i=n(58),a=n(21),u=n(13),s=Object.assign;t.exports=!s||n(7)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=s({},t)[n]||Object.keys(s({},e)).join("")!=r})?function(t,e){for(var n=a(t),s=arguments.length,c=1,f=o.f,l=i.f;s>c;)for(var d,p=u(arguments[c++]),h=f?r(p).concat(f(p)):r(p),m=h.length,v=0;m>v;)l.call(p,d=h[v++])&&(n[d]=p[d]);return n}:s},function(t,e,n){"use strict";var r=n(19),o=n(24),i=n(56)(!1),a=n(52)("IE_PROTO");t.exports=function(t,e){var n,u=o(t),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;e.length>s;)r(u,n=e[s++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){"use strict";var r=n(26),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){"use strict";e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r=n(65);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(6),o=n(66),i=n(37)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(20);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.errorInfo={NO_ALIAS:["fatal","请填写手机号或者邮箱"],ERR_ALIAS:["fatal","请正确填写手机号或者邮箱"],EXIST_ALIAS:["fatal","此帐号已注册, 要去登录吗?"],REENTRANT:["fatal","你已成功注册, 要去登录吗?"],NO_PHONE:["fatal","请填写手机号"],ERR_PHONE:["fatal","请正确填写手机号"],NO_NATION_PHONE:["fatal","请填写手机号"],ERR_NATION_PHONE:["fatal","请正确填写手机号"],NO_EMAIL:["fatal","请填写邮箱"],ERR_EMAIL:["fatal","请正确填写邮箱"],NO_REG_PASS:["fatal","请填写密码"],ERR_REG_PASS:["fatal","请填写至少六个字符的密码"],NO_NEW_PASS:["fatal","请填写新密码"],ERR_NEW_PASS:["fatal","请填写至少六个字符的密码"],NO_ORIGIN_PASS:["fatal","请填写当前密码"],ERR_PASS:["fatal","登录密码错误"],UNMATCH_NAMEPASS:["fatal","用户名或密码错误"],UNMATCH_PASS:["fatal","两次输入不一致"],NO_UPDATE_PASS:["fatal","新旧密码重复"],BE_STRONG_PASS:["fatal","密码强度过低，需包含数字和字母，至少六个字符"],NO_CODE:["fatal","请填写验证码"],ERR_CODE:["fatal","请正确填写验证码"],NO_CAPTCHA:["fatal","请填写图形验证码"],ERR_CAPTCHA:["fatal","请正确填写图形验证码"],NO_NICK:["fatal","请填写昵称"],ERR_NICK:["fatal","昵称文字不能多于14个英文字符或7个汉字"],ERR_BEHAVIOR:["fatal","抱歉，注册流程异常，请重新开始"],NO_BIND_PHONE:["error","需要先绑定手机号才可解绑"],NO_BIND_EMAIL:["error","需要先绑定邮箱才可解绑手机"],MISSMATCH_PHONE:["fatal","手机号码与帐号绑定不一致"],MISSMATCH_EMAIL:["fatal","邮箱与帐号绑定不一致"],NO_USER:["fatal","用户不存在"]},e.networkInfo={offline:["fatal","网络未连接，请稍后重试"],online:["info","网络连接已正常"]},e.doneInfo={doneSendCode:["info","验证码已发送至邮箱"],doneReg:["info","注册成功，欢迎加入豆瓣, 要去登录吗？"],doneForget:["info","重置密码成功"],done3rdBind:["info","资料完善成功"],doneverifyPhone:["info","手机号验证成功"],doneBindDouban:["info","绑定成功"],doneBindPhone:["info","手机号绑定成功"],doneBindEmail:["info","邮箱绑定成功"],doneUnbindPhone:["info","手机号解绑成功"],doneUnbindEmail:["info","邮箱解绑成功"],doneBindWechat:["info","你已成功绑定微信"],doneBindSina:["info","你已成功绑定微博"],doneUnbindWechat:["info","你已成功解绑微信"],doneUnbindSina:["info","你已成功解绑微博"],doneUnbindQQ:["info","你已成功解绑QQ"],doneUpdatePwd:["info","修改密码成功"],doneSetPwd:["info","设置密码成功"],updatePwdSuccess:["info","更换密码成功"],doneLogin:["info","登录成功"]}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.checkInputIsNull=e.checkInput=void 0;var o=r(n(91)),i=n(4),a=r(n(41)),u=n(8),s=n(67),c=n(22),f={phone:/(?:\(?[0\+]?\d{1,3}\)?)[\s-]?(?:0|\d{1,4})[\s-]?(?:(?:13\d{9})|(?:\d{7,8}))/,china_phone:/^1[3-9][0-9]{9}$/,nation_phone:/\d+/,email:/^([A-Za-z0-9_\-\.\+])+\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,origin_pass:/[\s|\S]/,password:/[\s|\S]{6,}/,code:/\d+/},l=u.isMobile||u.isApp,d=((0,i.query)(".acount-body")[0],function(t,e){return"alias"===e&&(e=/^[0-9]*$/.test(t)?"phone":"email"),t.indexOf("+86")>-1&&(t=t.replace("+86",""),e="china_phone"),f[e].test(t)}),p=function(t,e,n){var r=e.toUpperCase();"password"===e&&(r="REG_PASS");var o=[];return t?!!n(t,e)||("alias"===e&&(r=(f.code.test(t)?"phone":"email").toUpperCase()),o=s.errorInfo["ERR_"+r],l?(0,a.default)(o[1],{type:o[0]}):(0,c.errorMsg)(o[1],o[0]),!1):(o=s.errorInfo["NO_"+r],l?(0,a.default)(o[1],{type:o[0]}):(0,c.errorMsg)(o[1],o[0]),!1)},h=function(t){return(0,u.strLen)(t)<=14},m=function(t){var e=1,n=window.captcha,r=n.captcha_id,i=void 0===r?"":r,a=n.captcha_signature_sample,u=void 0===a?"":a,s=(0,o.default)(i+t.toLowerCase());return u.split(",").forEach(function(t){var n=t.split(":");s[n[0]]!==n[1]&&(e*=0)}),e};e.checkInput=function(t,e){return t=t.trim(),f[e]||"alias"==e?p(t,e,d):"nick"===e?p(t,e,h):"captcha"===e?p(t,e,m):void 0},e.checkInputIsNull=function(){var t=(0,i.query)(".account-form-field input"),e=(0,i.query)(".account-form-field-submit .btn")[0];t.filter(function(t){if("hidden"!==t.type&&"none"!==t.style.display&&t.offsetParent)return!t.value}).length<1?(0,i.addClass)(e,"btn-active"):(0,i.removeClass)(e,"btn-active")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.closest=e.querySelectorAll=e.scrollTop=e.scrollParent=e.contains=e.position=e.offsetParent=e.offset=e.width=e.height=e.matches=void 0;var o=r(n(28)),i=r(n(29)),a=r(n(70)),u=r(n(9)),s=r(n(31)),c=r(n(78)),f=r(n(15)),l=r(n(80)),d=r(n(33)),p=r(n(14)),h=r(n(81));e.matches=o.default,e.height=i.default,e.width=a.default,e.offset=u.default,e.offsetParent=s.default,e.position=c.default,e.contains=f.default,e.scrollParent=l.default,e.scrollTop=d.default,e.querySelectorAll=p.default,e.closest=h.default,e.default={matches:o.default,height:i.default,width:a.default,offset:u.default,offsetParent:s.default,position:c.default,contains:f.default,scrollParent:l.default,scrollTop:d.default,querySelectorAll:p.default,closest:h.default}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,i.default)(t);return n?n.innerWidth:e?t.clientWidth:(0,o.default)(t).width};var o=r(n(9)),i=r(n(5));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(r,function(t,e){return e.toUpperCase()})};var r=/-(.)/g;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,r.default)(t).replace(o,"-ms-")};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(73)),o=/^ms-/;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(r,"-$1").toLowerCase()};var r=/([A-Z])/g;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t)throw new TypeError("No Element passed to `getComputedStyle()`");var e=t.ownerDocument;return"defaultView"in e?e.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):window.getComputedStyle(t,null):{getPropertyValue:function(e){var n=t.style;"float"==(e=(0,r.default)(e))&&(e="styleFloat");var a=t.currentStyle[e]||null;if(null==a&&n&&n[e]&&(a=n[e]),i.test(a)&&!o.test(e)){var u=n.left,s=t.runtimeStyle,c=s&&s.left;c&&(s.left=t.currentStyle.left),n.left="fontSize"===e?"1em":a,a=n.pixelLeft+"px",n.left=u,c&&(s.left=c)}return a}}};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(32)),o=/^(top|right|bottom|left)$/,i=/^([+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/i;t.exports=e.default},function(t,e,n){"use strict";
Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return"removeProperty"in t.style?t.style.removeProperty(e):t.style.removeAttribute(e)},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.animationEnd=e.animationDelay=e.animationTiming=e.animationDuration=e.animationName=e.transitionEnd=e.transitionDuration=e.transitionDelay=e.transitionTiming=e.transitionProperty=e.transform=void 0;var r="transform",o=void 0,i=void 0,a=void 0,u=void 0,s=void 0,c=void 0,f=void 0,l=void 0,d=void 0,p=void 0,h=void 0;if(function(t){return t&&t.__esModule?t:{default:t}}(n(0)).default){var m=function(){for(var t=document.createElement("div").style,e={O:function(t){return"o"+t.toLowerCase()},Moz:function(t){return t.toLowerCase()},Webkit:function(t){return"webkit"+t},ms:function(t){return"MS"+t}},n=Object.keys(e),r=void 0,o=void 0,i="",a=0;a<n.length;a++){var u=n[a];if(u+"TransitionProperty"in t){i="-"+u.toLowerCase(),r=e[u]("TransitionEnd"),o=e[u]("AnimationEnd");break}}return!r&&"transitionProperty"in t&&(r="transitionend"),!o&&"animationName"in t&&(o="animationend"),t=null,{animationEnd:o,transitionEnd:r,prefix:i}}();o=m.prefix,e.transitionEnd=i=m.transitionEnd,e.animationEnd=a=m.animationEnd,e.transform=r=o+"-"+r,e.transitionProperty=u=o+"-transition-property",e.transitionDuration=s=o+"-transition-duration",e.transitionDelay=f=o+"-transition-delay",e.transitionTiming=c=o+"-transition-timing-function",e.animationName=l=o+"-animation-name",e.animationDuration=d=o+"-animation-duration",e.animationTiming=p=o+"-animation-delay",e.animationDelay=h=o+"-animation-timing-function"}e.transform=r,e.transitionProperty=u,e.transitionTiming=c,e.transitionDelay=f,e.transitionDuration=s,e.transitionEnd=i,e.animationName=l,e.animationDuration=d,e.animationTiming=p,e.animationDelay=h,e.animationEnd=a,e.default={transform:r,end:i,property:u,timing:c,delay:f,duration:s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return!(!t||!r.test(t))};var r=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function(t,e){var n,r={top:0,left:0};return"fixed"===(0,c.default)(t,"position")?n=t.getBoundingClientRect():(e=e||(0,a.default)(t),n=(0,i.default)(t),"html"!==function(t){return t.nodeName&&t.nodeName.toLowerCase()}(e)&&(r=(0,i.default)(e)),r.top+=parseInt((0,c.default)(e,"borderTopWidth"),10)-(0,u.default)(e)||0,r.left+=parseInt((0,c.default)(e,"borderLeftWidth"),10)-(0,s.default)(e)||0),o({},n,{top:n.top-r.top-(parseInt((0,c.default)(t,"marginTop"),10)||0),left:n.left-r.left-(parseInt((0,c.default)(t,"marginLeft"),10)||0)})};var i=r(n(9)),a=r(n(31)),u=r(n(33)),s=r(n(79)),c=r(n(16));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,r.default)(t);return void 0===e?n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:t.scrollLeft:void(n?n.scrollTo(e,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):t.scrollLeft=e)};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(5));t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(0,o.default)(t,"position"),n="absolute"===e,r=t.ownerDocument;if("fixed"===e)return r||document;for(;(t=t.parentNode)&&9!==t.nodeType;){var a=n&&"static"===(0,o.default)(t,"position"),u=(0,o.default)(t,"overflow")+(0,o.default)(t,"overflow-y")+(0,o.default)(t,"overflow-x");if(!a&&/(auto|scroll)/.test(u)&&(0,i.default)(t)<t.scrollHeight)return t}return document};var o=r(n(16)),i=r(n(29));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){for(;t&&(o(t)||!(0,r.default)(t,e));)t=t===n||o(t)?void 0:t.parentNode;return t};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(28)),o=function(t){return null!=t&&t.nodeType===t.DOCUMENT_NODE};t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.hasClass=e.removeClass=e.addClass=void 0;var o=r(n(83)),i=r(n(84)),a=r(n(34));e.addClass=o.default,e.removeClass=i.default,e.hasClass=a.default,e.default={addClass:o.default,removeClass:i.default,hasClass:a.default}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.classList?t.classList.add(e):(0,r.default)(t,e)||("string"==typeof t.className?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(34));t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.exports=function(t,e){t.classList?t.classList.remove(e):"string"==typeof t.className?t.className=r(t.className,e):t.setAttribute("class",r(t.className&&t.className.baseVal||"",e))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return function(n){var r=n.currentTarget,a=n.target,u=(0,i.default)(r,t);u.some(function(t){return(0,o.default)(t,a)})&&e.call(this,n)}};var o=r(n(15)),i=r(n(14));t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(0)),i=r(n(35)),a=r(n(36)),u=function(){};o.default&&(u=function(t,e,n,r){return(0,i.default)(t,e,n,r),function(){(0,a.default)(t,e,n,r)}}),e.default=u,t.exports=e.default},function(t,e,n){"use strict";n(88),t.exports=n(2).Array.filter},function(t,e,n){"use strict";var r=n(11),o=n(43)(2);r(r.P+r.F*!n(44)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t){return null==t?String(t):Y[H.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function o(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function i(e){return"object"==t(e)}function a(t){return i(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function u(t){return"number"==typeof t.length}function s(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function c(t){return t in A?A[t]:A[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function f(t,e){return"number"!=typeof e||O[s(t)]?e:e+"px"}function l(t){return"children"in t?T.call(t.children):_.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function d(t,e){return null==e?_(t):_(t).filter(e)}function p(t,n,r,o){return e(n)?n.call(t,r,o):n}function h(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function m(t,e){var n=t.className||"",r=n&&n.baseVal!==y;return e===y?r?n.baseVal:n:void(r?n.baseVal=e:t.className=e)}function v(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?_.parseJSON(t):t):t}catch(e){return t}}var y,g,_,b,w,E,x=[],T=x.slice,C=x.filter,P=window.document,S={},A={},O={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},M=/^\s*<(\w+|!)[^>]*>/,j=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,N=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,k=/^(?:body|html)$/i,R=/([A-Z])/g,I=["val","css","html","text","data","width","height","offset"],B=P.createElement("table"),q=P.createElement("tr"),L={tr:P.createElement("tbody"),tbody:B,thead:B,tfoot:B,td:q,th:q,"*":P.createElement("div")},U=/complete|loaded|interactive/,D=/^[\w-]*$/,Y={},H=Y.toString,F={},z=P.createElement("div"),$={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(t){return t instanceof Array};return F.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var r,o=t.parentNode,i=!o;return i&&(o=z).appendChild(t),r=~F.qsa(o,e).indexOf(t),i&&z.removeChild(t),r},w=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},E=function(t){return C.call(t,function(e,n){return t.indexOf(e)==n})},F.fragment=function(t,e,n){var r,o,i;return j.test(t)&&(r=_(P.createElement(RegExp.$1))),r||(t.replace&&(t=t.replace(N,"<$1></$2>")),e===y&&(e=M.test(t)&&RegExp.$1),e in L||(e="*"),(i=L[e]).innerHTML=""+t,r=_.each(T.call(i.childNodes),function(){i.removeChild(this)})),a(n)&&(o=_(r),_.each(n,function(t,e){I.indexOf(t)>-1?o[t](e):o.attr(t,e)})),r},F.Z=function(t,e){return(t=t||[]).__proto__=_.fn,t.selector=e||"",t},F.isZ=function(t){return t instanceof F.Z},F.init=function(t,n){var r;if(!t)return F.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&M.test(t))r=F.fragment(t,RegExp.$1,n),t=null;else{if(n!==y)return _(n).find(t);r=F.qsa(P,t)}else{if(e(t))return _(P).ready(t);if(F.isZ(t))return t;if(Z(t))r=function(t){return C.call(t,function(t){return null!=t})}(t);else if(i(t))r=[t],t=null;else if(M.test(t))r=F.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==y)return _(n).find(t);r=F.qsa(P,t)}}return F.Z(r,t)},(_=function(t,e){return F.init(t,e)}).extend=function(t){var e,n=T.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){!function t(e,n,r){for(g in n)r&&(a(n[g])||Z(n[g]))?(a(n[g])&&!a(e[g])&&(e[g]={}),Z(n[g])&&!Z(e[g])&&(e[g]=[]),t(e[g],n[g],r)):n[g]!==y&&(e[g]=n[g])}(t,n,e)}),t},F.qsa=function(t,e){var n,r="#"==e[0],i=!r&&"."==e[0],a=r||i?e.slice(1):e,u=D.test(a);return o(t)&&u&&r?(n=t.getElementById(a))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:T.call(u&&!r?i?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},_.contains=P.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},_.type=t,_.isFunction=e,_.isWindow=n,_.isArray=Z,_.isPlainObject=a,_.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},_.inArray=function(t,e,n){return x.indexOf.call(e,t,n)},_.camelCase=w,_.trim=function(t){return null==t?"":String.prototype.trim.call(t)},_.uuid=0,_.support={},_.expr={},_.map=function(t,e){var n,r,o,i=[];if(u(t))for(r=0;r<t.length;r++)null!=(n=e(t[r],r))&&i.push(n);else for(o in t)null!=(n=e(t[o],o))&&i.push(n);return function(t){return t.length>0?_.fn.concat.apply([],t):t}(i)},_.each=function(t,e){var n,r;if(u(t)){for(n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(r in t)if(!1===e.call(t[r],r,t[r]))return t;return t},_.grep=function(t,e){return C.call(t,e)},window.JSON&&(_.parseJSON=JSON.parse),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()}),_.fn={forEach:x.forEach,reduce:x.reduce,push:x.push,sort:x.sort,indexOf:x.indexOf,concat:x.concat,map:function(t){return _(_.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return _(T.apply(this,arguments))},ready:function(t){return U.test(P.readyState)&&P.body?t(_):P.addEventListener("DOMContentLoaded",function(){t(_)},!1),this},get:function(t){return t===y?T.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return x.every.call(this,function(e,n){return!1!==t.call(e,n,e)}),this},filter:function(t){return e(t)?this.not(this.not(t)):_(C.call(this,function(e){return F.matches(e,t)}))},add:function(t,e){return _(E(this.concat(_(t,e))))},is:function(t){return this.length>0&&F.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==y)this.each(function(e){t.call(this,e)||n.push(this)});else{var r="string"==typeof t?this.filter(t):u(t)&&e(t.item)?T.call(t):_(t);this.forEach(function(t){r.indexOf(t)<0&&n.push(t)})}return _(n)},has:function(t){return this.filter(function(){return i(t)?_.contains(this,t):_(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!i(t)?t:_(t)},last:function(){var t=this[this.length-1];return t&&!i(t)?t:_(t)},find:function(t){var e=this;return t?"object"==(void 0===t?"undefined":r(t))?_(t).filter(function(){var t=this;return x.some.call(e,function(e){return _.contains(e,t)})}):1==this.length?_(F.qsa(this[0],t)):this.map(function(){return F.qsa(this,t)}):_()},closest:function(t,e){var n=this[0],i=!1;for("object"==(void 0===t?"undefined":r(t))&&(i=_(t));n&&!(i?i.indexOf(n)>=0:F.matches(n,t));)n=n!==e&&!o(n)&&n.parentNode;return _(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=_.map(n,function(t){if((t=t.parentNode)&&!o(t)&&e.indexOf(t)<0)return e.push(t),t});return d(e,t)},parent:function(t){return d(E(this.pluck("parentNode")),t)},children:function(t){return d(this.map(function(){return l(this)}),t)},contents:function(){return this.map(function(){return T.call(this.childNodes)})},siblings:function(t){return d(this.map(function(t,e){return C.call(l(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return _.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=function(t){var e,n;return S[t]||(e=P.createElement(t),P.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),S[t]=n),S[t]}(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var r=_(t).get(0),o=r.parentNode||this.length>1;return this.each(function(e){_(this).wrapAll(n?t.call(this,e):o?r.cloneNode(!0):r)})},wrapAll:function(t){if(this[0]){var e;for(_(this[0]).before(t=_(t));(e=t.children()).length;)t=e.first();_(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var r=_(this),o=r.contents(),i=n?t.call(this,e):t;o.length?o.wrapAll(i):r.append(i)})},unwrap:function(){return this.parent().each(function(){_(this).replaceWith(_(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=_(this);(t===y?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return _(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return _(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;_(this).empty().append(p(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=p(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(i(t))for(g in t)h(this,g,t[g]);else h(this,t,p(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:y},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){h(this,t)},this)})},prop:function(t,e){return t=$[t]||t,1 in arguments?this.each(function(n){this[t]=p(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(t,e){var n="data-"+t.replace(R,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,e):this.attr(n);return null!==r?v(r):y},val:function(t){return 0 in arguments?this.each(function(e){this.value=p(this,t,e,this.value)}):this[0]&&(this[0].multiple?_(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=_(this),r=p(this,t,e,n.offset()),o=n.offsetParent().offset(),i={top:r.top-o.top,left:r.left-o.left};"static"==n.css("position")&&(i.position="relative"),n.css(i)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var r,o=this[0];if(!o)return;if(r=getComputedStyle(o,""),"string"==typeof e)return o.style[w(e)]||r.getPropertyValue(e);if(Z(e)){var i={};return _.each(e,function(t,e){i[e]=o.style[w(e)]||r.getPropertyValue(e)}),i}}var a="";if("string"==t(e))n||0===n?a=s(e)+":"+f(e,n):this.each(function(){this.style.removeProperty(s(e))});else for(g in e)e[g]||0===e[g]?a+=s(g)+":"+f(g,e[g])+";":this.each(function(){this.style.removeProperty(s(g))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(_(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&x.some.call(this,function(t){return this.test(m(t))},c(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){b=[];var n=m(this);p(this,t,e,n).split(/\s+/g).forEach(function(t){_(this).hasClass(t)||b.push(t)},this),b.length&&m(this,n+(n?" ":"")+b.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===y)return m(this,"");b=m(this),p(this,t,e,b).split(/\s+/g).forEach(function(t){b=b.replace(c(t)," ")}),m(this,b.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var r=_(this);p(this,t,n,m(this)).split(/\s+/g).forEach(function(t){(e===y?!r.hasClass(t):e)?r.addClass(t):r.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===y?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===y?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),r=k.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(_(t).css("margin-top"))||0,n.left-=parseFloat(_(t).css("margin-left"))||0,r.top+=parseFloat(_(e[0]).css("border-top-width"))||0,r.left+=parseFloat(_(e[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||P.body;t&&!k.test(t.nodeName)&&"static"==_(t).css("position");)t=t.offsetParent;return t})}},_.fn.detach=_.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});_.fn[t]=function(r){var i,a=this[0];return r===y?n(a)?a["inner"+e]:o(a)?a.documentElement["scroll"+e]:(i=this.offset())&&i[t]:this.each(function(e){(a=_(this)).css(t,p(this,r,e,a[t]()))})}}),["after","prepend","before","append"].forEach(function(e,n){var r=n%2;_.fn[e]=function(){var e,o,i=_.map(arguments,function(n){return"object"==(e=t(n))||"array"==e||null==n?n:F.fragment(n)}),a=this.length>1;return i.length<1?this:this.each(function(t,e){o=r?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var u=_.contains(P.documentElement,o);i.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!o)return _(t).remove();o.insertBefore(t,e),u&&function t(e,n){n(e);for(var r=0,o=e.childNodes.length;r<o;r++)t(e.childNodes[r],n)}(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},_.fn[r?e+"To":"insert"+(n?"Before":"After")]=function(t){return _(t)[e](this),this}}),F.Z.prototype=_.fn,F.uniq=E,F.deserializeValue=v,_.zepto=F,_}();window.Zepto=o,void 0===window.$&&(window.$=o),function(t){function e(t){return t._zid||(t._zid=l++)}function n(t,n,o,i){if((n=r(n)).ns)var a=function(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}(n.ns);return(m[e(t)]||[]).filter(function(t){return t&&(!n.e||t.e==n.e)&&(!n.ns||a.test(t.ns))&&(!o||e(t.fn)===e(o))&&(!i||t.sel==i)})}function r(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function o(t,e){return t.del&&!y&&t.e in g||!!e}function i(t){return _[t]||y&&g[t]||t}function a(n,a,u,c,l,d,p){var h=e(n),v=m[h]||(m[h]=[]);a.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(u);var a=r(e);a.fn=u,a.sel=l,a.e in _&&(u=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return a.fn.apply(this,arguments)}),a.del=d;var h=d||u;a.proxy=function(t){if(!(t=s(t)).isImmediatePropagationStopped()){t.data=c;var e=h.apply(n,t._args==f?[t]:[t].concat(t._args));return!1===e&&(t.preventDefault(),t.stopPropagation()),e}},a.i=v.length,v.push(a),"addEventListener"in n&&n.addEventListener(i(a.e),a.proxy,o(a,p))})}function u(t,r,a,u,s){var c=e(t);(r||"").split(/\s/).forEach(function(e){n(t,e,a,u).forEach(function(e){delete m[c][e.i],"removeEventListener"in t&&t.removeEventListener(i(e.e),e.proxy,o(e,s))})})}function s(e,n){return!n&&e.isDefaultPrevented||(n||(n=e),t.each(x,function(t,r){var o=n[t];e[t]=function(){return this[r]=b,o&&o.apply(n,arguments)},e[r]=w}),(n.defaultPrevented!==f?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=b)),e}function c(t){var e,n={originalEvent:t};for(e in t)E.test(e)||t[e]===f||(n[e]=t[e]);return s(n,t)}var f,l=1,d=Array.prototype.slice,p=t.isFunction,h=function(t){return"string"==typeof t},m={},v={},y="onfocusin"in window,g={focus:"focusin",blur:"focusout"},_={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:a,remove:u},t.proxy=function(n,r){var o=2 in arguments&&d.call(arguments,2);if(p(n)){var i=function(){return n.apply(r,o?o.concat(d.call(arguments)):arguments)};return i._zid=e(n),i}if(h(r))return o?(o.unshift(n[r],n),t.proxy.apply(null,o)):t.proxy(n[r],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,r){return this.on(t,e,n,r,1)};var b=function(){return!0},w=function(){return!1},E=/^([A-Z]|returnValue$|layer[XY]$)/,x={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,r,o,i){var s,l,m=this;return e&&!h(e)?(t.each(e,function(t,e){m.on(t,n,r,e,i)}),m):(h(n)||p(o)||!1===o||(o=r,r=n,n=f),(p(r)||!1===r)&&(o=r,r=f),!1===o&&(o=w),m.each(function(f,p){i&&(s=function(t){return u(p,t.type,o),o.apply(this,arguments)}),n&&(l=function(e){var r,i=t(e.target).closest(n,p).get(0);if(i&&i!==p)return r=t.extend(c(e),{currentTarget:i,liveFired:p}),(s||o).apply(i,[r].concat(d.call(arguments,1)))}),a(p,e,o,r,n,l||s)}))},t.fn.off=function(e,n,r){var o=this;return e&&!h(e)?(t.each(e,function(t,e){o.off(t,n,e)}),o):(h(n)||p(r)||!1===r||(r=n,n=f),!1===r&&(r=w),o.each(function(){u(this,e,r,n)}))},t.fn.trigger=function(e,n){return(e=h(e)||t.isPlainObject(e)?t.Event(e):s(e))._args=n,this.each(function(){e.type in g&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,r){var o,i;return this.each(function(a,u){(o=c(h(e)?t.Event(e):e))._args=r,o.target=u,t.each(n(u,e.type||e),function(t,e){if(i=e.proxy(o),o.isImmediatePropagationStopped())return!1})}),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){h(t)||(t=(e=t).type);var n=document.createEvent(v[t]||"Events"),r=!0;if(e)for(var o in e)"bubbles"==o?r=!!e[o]:n[o]=e[o];return n.initEvent(t,r,!0),s(n)}}(o),function(t){function e(e,n,r,o){if(e.global)return function(e,n,r){var o=t.Event(n);return t(e).trigger(o,r),!o.isDefaultPrevented()}(n||d,r,o)}function n(t,n){var r=n.context;return!1!==n.beforeSend.call(r,t,n)&&!1!==e(n,r,"ajaxBeforeSend",[t,n])&&void e(n,r,"ajaxSend",[t,n])}function r(t,n,r,o){var a=r.context;r.success.call(a,t,"success",n),o&&o.resolveWith(a,[t,"success",n]),e(r,a,"ajaxSuccess",[n,r,t]),i("success",n,r)}function o(t,n,r,o,a){var u=o.context;o.error.call(u,r,n,t),a&&a.rejectWith(u,[r,n,t]),e(o,u,"ajaxError",[r,o,t||n]),i(n,r,o)}function i(n,r,o){var i=o.context;o.complete.call(i,r,n),e(o,i,"ajaxComplete",[r,o]),function(n){n.global&&!--t.active&&e(n,null,"ajaxStop")}(o)}function a(){}function u(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function s(e,n,r,o){return t.isFunction(n)&&(o=r,r=n,n=void 0),t.isFunction(r)||(o=r,r=void 0),{url:e,data:n,success:r,dataType:o}}var c,f,l=0,d=window.document,p=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,h=/^(?:text|application)\/javascript/i,m=/^(?:text|application)\/xml/i,v="application/json",y="text/html",g=/^\s*$/,_=d.createElement("a");_.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,i){if(!("type"in e))return t.ajax(e);var a,u,s=e.jsonpCallback,c=(t.isFunction(s)?s():s)||"jsonp"+ ++l,f=d.createElement("script"),p=window[c],h=function(e){t(f).triggerHandler("error",e||"abort")},m={abort:h};return i&&i.promise(m),t(f).on("load error",function(n,s){clearTimeout(u),t(f).off().remove(),"error"!=n.type&&a?r(a[0],m,e,i):o(null,s||"error",m,e,i),window[c]=p,a&&t.isFunction(p)&&p(a[0]),p=a=void 0}),!1===n(m,e)?(h("abort"),m):(window[c]=function(){a=arguments},f.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),d.head.appendChild(f),e.timeout>0&&(u=setTimeout(function(){h("timeout")},e.timeout)),m)},t.ajaxSettings={type:"GET",beforeSend:a,success:a,error:a,complete:a,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:v,xml:"application/xml, text/xml",html:y,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(i){var s,l=t.extend({},i||{}),p=t.Deferred&&t.Deferred();for(c in t.ajaxSettings)void 0===l[c]&&(l[c]=t.ajaxSettings[c]);!function(n){n.global&&0==t.active++&&e(n,null,"ajaxStart")}(l),l.crossDomain||((s=d.createElement("a")).href=l.url,s.href=s.href,l.crossDomain=_.protocol+"//"+_.host!=s.protocol+"//"+s.host),l.url||(l.url=window.location.toString()),function(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=u(e.url,e.data),e.data=void 0)}(l);var b=l.dataType,w=/\?.+=\?/.test(l.url);if(w&&(b="jsonp"),!1!==l.cache&&(i&&!0===i.cache||"script"!=b&&"jsonp"!=b)||(l.url=u(l.url,"_="+Date.now())),"jsonp"==b)return w||(l.url=u(l.url,l.jsonp?l.jsonp+"=?":!1===l.jsonp?"":"callback=?")),t.ajaxJSONP(l,p);var E,x=l.accepts[b],T={},C=function(t,e){T[t.toLowerCase()]=[t,e]},P=/^([\w-]+:)\/\//.test(l.url)?RegExp.$1:window.location.protocol,S=l.xhr(),A=S.setRequestHeader;if(p&&p.promise(S),l.crossDomain||C("X-Requested-With","XMLHttpRequest"),C("Accept",x||"*/*"),(x=l.mimeType||x)&&(x.indexOf(",")>-1&&(x=x.split(",",2)[0]),S.overrideMimeType&&S.overrideMimeType(x)),(l.contentType||!1!==l.contentType&&l.data&&"GET"!=l.type.toUpperCase())&&C("Content-Type",l.contentType||"application/x-www-form-urlencoded"),l.headers)for(f in l.headers)C(f,l.headers[f]);if(S.setRequestHeader=C,S.onreadystatechange=function(){if(4==S.readyState){S.onreadystatechange=a,clearTimeout(E);var e,n=!1;if(S.status>=200&&S.status<300||304==S.status||0==S.status&&"file:"==P){b=b||function(t){return t&&(t=t.split(";",2)[0]),t&&(t==y?"html":t==v?"json":h.test(t)?"script":m.test(t)&&"xml")||"text"}(l.mimeType||S.getResponseHeader("content-type")),e=S.responseText;try{"script"==b?(0,eval)(e):"xml"==b?e=S.responseXML:"json"==b&&(e=g.test(e)?null:t.parseJSON(e))}catch(t){n=t}n?o(n,"parsererror",S,l,p):r(e,S,l,p)}else o(S.statusText||null,S.status?"error":"abort",S,l,p)}},!1===n(S,l))return S.abort(),o(null,"abort",S,l,p),S;if(l.xhrFields)for(f in l.xhrFields)S[f]=l.xhrFields[f];var O=!("async"in l)||l.async;for(f in S.open(l.type,l.url,O,l.username,l.password),T)A.apply(S,T[f]);return l.timeout>0&&(E=setTimeout(function(){S.onreadystatechange=a,S.abort(),o(null,"timeout",S,l,p)},l.timeout)),S.send(l.data?l.data:null),S},t.get=function(){return t.ajax(s.apply(null,arguments))},t.post=function(){var e=s.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=s.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var o,i=this,a=e.split(/\s/),u=s(e,n,r),c=u.success;return a.length>1&&(u.url=a[0],o=a[1]),u.success=function(e){i.html(o?t("<div>").html(e.replace(p,"")).find(o):e),c&&c.apply(i,arguments)},t.ajax(u),this};var b=encodeURIComponent;t.param=function(e,n){var r=[];return r.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(b(e)+"="+b(n))},function e(n,r,o,i){var a,u=t.isArray(r),s=t.isPlainObject(r);t.each(r,function(r,c){a=t.type(c),i&&(r=o?i:i+"["+(s||"object"==a||"array"==a?r:"")+"]"),!i&&u?n.add(c.name,c.value):"array"==a||!o&&"object"==a?e(n,c,o,r):n.add(r,c)})}(r,e,n),r.join("&").replace(/%20/g,"+")}}(o),function(t){t.fn.serializeArray=function(){var e,n,r=[];return this[0]&&t.each(this[0].elements,function(o,i){n=i.type,(e=i.name)&&"fieldset"!=i.nodeName.toLowerCase()&&!i.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||i.checked)&&function t(n){return n.forEach?n.forEach(t):void r.push({name:e,value:n})}(t(i).val())}),r},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(o),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t){try{return e(t)}catch(t){return null}}}}(o),"object"===r(e)&&(t.exports=o)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.API=void 0;var o=r(n(3)),i=r(n(39)),a=document.location.href.indexOf("dae-pre")>-1?"/":"https://accounts.douban.com/",u={basic:"login/basic",request_captcha:"login/request_basic_captcha",sms_login:"login/sms_login",request_phone_code:"login/request_phone_code",verify_phone_code:"login/verify_phone_code",
prepare:"register/prepare",complete:"register/complete",getpwd_request_phone:"reset_password/request_phone_code",getpwd_verify_phone:"reset_password/verify_phone_code",getpwd_request_email:"reset_password/request_email_code",getpwd_verify_email:"reset_password/verify_email_code",reset_complete:"reset_password/complete",init_password:"update_password/init_password",update_password:"update_password/basic",update_avatar:"user/update_avatar",upload_avatar:"user/upload_avatar",update_profile:"user/update_profile",suggest_city:"loc/suggest_city",check_phone:"bind/check_phone",bind_phone_code:"bind/request_phone_code",bind_email_code:"bind/request_email_code",bind_complete:"bind/complete",unbind_phone_code:"unbind/request_phone_code",unbind_email_code:"unbind/request_email_code",unbind_complete:"unbind/complete",unbind_email_complete:"unbind/email_complete",unbind_check_password:"unbind/check_password",bind_third:"bind/thirdparty",unbind_third:"unbind/thirdparty",verify_code:"verify/request_phone_code",verify_complete:"verify/complete",abnormal_phone_code:"abnormal/request_phone_code",abnormal_complete:"abnormal/verify_phone_code",abnormal_get_sms:"abnormal/get_sms_captcha",abnormal_check_sms:"abnormal/check_sms_captcha",qrlogin_code:"login/qrlogin_code",qrlogin_status:"login/qrlogin_status",logout:"logout/"},s={qrlogin:"/j/app/login/qrlogin",reg_captcha:a+"j/misc/reg_captcha",refresh_captcha:a+"j/captcha/refresh",send_login_code:a+"j/login/send_login_code",get_nations_list:a+"j/misc/supported_nations",all_citys:"https://m.douban.com/rexxar/api/v2/cities",hot_citys:"https://m.douban.com/rexxar/api/v2/hot_cities",weibo_login:a+"j/connect/weibo/complete",wechat_login:a+"j/connect/wechat_official/complete",unlock_phone_code:a+"safety/j/unlock/request_phone_code",unlock_email_code:a+"safety/j/unlock/request_email_code",unlock_verify_phone:a+"safety/j/unlock/verify_phone_code",unlock_verify_email:a+"safety/j/unlock/verify_email_code",unlock_reset_pwd:a+"safety/j/unlock/reset_password",unlock_get_captcha:a+"safety/j/unlock_special/get_sms_captcha",unlock_check_captcha:a+"safety/j/unlock_special/check_sms_captcha",unlock_special_reset_pwd:a+"safety/j/unlock_special/reset_password",verify_sms_code:"/j/app/verify_phone/request_phone_code",verify_sms_login:"/j/app/verify_phone/verify_phone_code"},c=(0,i.default)("app")?"app":"mobile",f=function(){var t={};for(var e in u)e.indexOf("abnormal_")>-1?(0,i.default)("app")?((0,i.default)("frodo",[6,3,0])||(t[e]=a+"j/mobile/"+u[e]),t[e]=a+"j/app/"+u[e]):t[e]=a+"j/mobile/"+u[e]:t[e]=a+"j/"+c+"/"+u[e];return t}();e.API=(0,o.default)({},f,s)},function(t,e,n){"use strict";(function(e){!function(){var r=n(97),o=n(40).utf8,i=n(40).bin,a=function t(n,a){n.constructor==String?n=a&&"binary"===a.encoding?i.stringToBytes(n):o.stringToBytes(n):void 0!==e&&"function"==typeof e.isBuffer&&e.isBuffer(n)?n=Array.prototype.slice.call(n,0):Array.isArray(n)||(n=n.toString());for(var u=r.bytesToWords(n),s=8*n.length,c=1732584193,f=-271733879,l=-1732584194,d=271733878,p=0;p<u.length;p++)u[p]=16711935&(u[p]<<8|u[p]>>>24)|4278255360&(u[p]<<24|u[p]>>>8);u[s>>>5]|=128<<s%32,u[14+(s+64>>>9<<4)]=s;var h=t._ff,m=t._gg,v=t._hh,y=t._ii;for(p=0;p<u.length;p+=16){var g=c,_=f,b=l,w=d;f=y(f=y(f=y(f=y(f=v(f=v(f=v(f=v(f=m(f=m(f=m(f=m(f=h(f=h(f=h(f=h(f,l=h(l,d=h(d,c=h(c,f,l,d,u[p+0],7,-680876936),f,l,u[p+1],12,-389564586),c,f,u[p+2],17,606105819),d,c,u[p+3],22,-1044525330),l=h(l,d=h(d,c=h(c,f,l,d,u[p+4],7,-176418897),f,l,u[p+5],12,1200080426),c,f,u[p+6],17,-1473231341),d,c,u[p+7],22,-45705983),l=h(l,d=h(d,c=h(c,f,l,d,u[p+8],7,1770035416),f,l,u[p+9],12,-1958414417),c,f,u[p+10],17,-42063),d,c,u[p+11],22,-1990404162),l=h(l,d=h(d,c=h(c,f,l,d,u[p+12],7,1804603682),f,l,u[p+13],12,-40341101),c,f,u[p+14],17,-1502002290),d,c,u[p+15],22,1236535329),l=m(l,d=m(d,c=m(c,f,l,d,u[p+1],5,-165796510),f,l,u[p+6],9,-1069501632),c,f,u[p+11],14,643717713),d,c,u[p+0],20,-373897302),l=m(l,d=m(d,c=m(c,f,l,d,u[p+5],5,-701558691),f,l,u[p+10],9,38016083),c,f,u[p+15],14,-660478335),d,c,u[p+4],20,-405537848),l=m(l,d=m(d,c=m(c,f,l,d,u[p+9],5,568446438),f,l,u[p+14],9,-1019803690),c,f,u[p+3],14,-187363961),d,c,u[p+8],20,1163531501),l=m(l,d=m(d,c=m(c,f,l,d,u[p+13],5,-1444681467),f,l,u[p+2],9,-51403784),c,f,u[p+7],14,1735328473),d,c,u[p+12],20,-1926607734),l=v(l,d=v(d,c=v(c,f,l,d,u[p+5],4,-378558),f,l,u[p+8],11,-2022574463),c,f,u[p+11],16,1839030562),d,c,u[p+14],23,-35309556),l=v(l,d=v(d,c=v(c,f,l,d,u[p+1],4,-1530992060),f,l,u[p+4],11,1272893353),c,f,u[p+7],16,-155497632),d,c,u[p+10],23,-1094730640),l=v(l,d=v(d,c=v(c,f,l,d,u[p+13],4,681279174),f,l,u[p+0],11,-358537222),c,f,u[p+3],16,-722521979),d,c,u[p+6],23,76029189),l=v(l,d=v(d,c=v(c,f,l,d,u[p+9],4,-640364487),f,l,u[p+12],11,-421815835),c,f,u[p+15],16,530742520),d,c,u[p+2],23,-995338651),l=y(l,d=y(d,c=y(c,f,l,d,u[p+0],6,-198630844),f,l,u[p+7],10,1126891415),c,f,u[p+14],15,-1416354905),d,c,u[p+5],21,-57434055),l=y(l,d=y(d,c=y(c,f,l,d,u[p+12],6,1700485571),f,l,u[p+3],10,-1894986606),c,f,u[p+10],15,-1051523),d,c,u[p+1],21,-2054922799),l=y(l,d=y(d,c=y(c,f,l,d,u[p+8],6,1873313359),f,l,u[p+15],10,-30611744),c,f,u[p+6],15,-1560198380),d,c,u[p+13],21,1309151649),l=y(l,d=y(d,c=y(c,f,l,d,u[p+4],6,-145523070),f,l,u[p+11],10,-1120210379),c,f,u[p+2],15,718787259),d,c,u[p+9],21,-343485551),c=c+g>>>0,f=f+_>>>0,l=l+b>>>0,d=d+w>>>0}return r.endian([c,f,l,d])};a._ff=function(t,e,n,r,o,i,a){var u=t+(e&n|~e&r)+(o>>>0)+a;return(u<<i|u>>>32-i)+e},a._gg=function(t,e,n,r,o,i,a){var u=t+(e&r|n&~r)+(o>>>0)+a;return(u<<i|u>>>32-i)+e},a._hh=function(t,e,n,r,o,i,a){var u=t+(e^n^r)+(o>>>0)+a;return(u<<i|u>>>32-i)+e},a._ii=function(t,e,n,r,o,i,a){var u=t+(n^(e|~r))+(o>>>0)+a;return(u<<i|u>>>32-i)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,e){if(void 0!==t){var n=r.wordsToBytes(a(t,e));return e&&e.asBytes?n:e&&e.asString?i.bytesToString(n):r.bytesToHex(n)}}}()}).call(this,n(92).Buffer)},function(t,e,n){"use strict";(function(t){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=i.prototype:(null===t&&(t=new i(e)),t.length=e),t}function i(t,e,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return s(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),i.TYPED_ARRAY_SUPPORT?(t=e).__proto__=i.prototype:t=c(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|l(e,n),a=(t=o(t,r)).write(e,n);return a!==r&&(t=t.slice(0,a)),t}(t,e,n):function(t,e){if(i.isBuffer(e)){var n=0|f(e.length);return 0===(t=o(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?o(t,0):c(t,e);if("Buffer"===e.type&&D(e.data))return c(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function s(t,e){if(u(e),t=o(t,e<0?0:0|f(e)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e){var n=e.length<0?0:0|f(e.length);t=o(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function f(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function l(t,e){if(i.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return I(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(t).length;default:if(r)return I(t).length;e=(""+e).toLowerCase(),r=!0}}function d(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function p(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=i.from(e,r)),i.isBuffer(e))return 0===e.length?-1:h(t,e,n,r,o);if("number"==typeof e)return e&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):h(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function h(t,e,n,r,o){function i(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}var a,u=1,s=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;u=2,s/=2,c/=2,n/=2}if(o){var f=-1;for(a=n;a<s;a++)if(i(t,a)===i(e,-1===f?0:a-f)){if(-1===f&&(f=a),a-f+1===c)return f*u}else-1!==f&&(a-=a-f),f=-1}else for(n+c>s&&(n=s-c),a=n;a>=0;a--){for(var l=!0,d=0;d<c;d++)if(i(t,a+d)!==i(e,d)){l=!1;break}if(l)return a}return-1}function m(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var u=parseInt(e.substr(2*a,2),16);if(isNaN(u))return a;t[n+a]=u}return a}function v(t,e,n,r){return q(I(e,t.length-n),t,n,r)}function y(t,e,n,r){return q(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function g(t,e,n,r){return y(t,e,n,r)}function _(t,e,n,r){return q(B(e),t,n,r)}function b(t,e,n,r){return q(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function w(t,e,n){return 0===e&&n===t.length?L.fromByteArray(t):L.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,u,s,c=t[o],f=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(i=t[o+1]))&&(s=(31&c)<<6|63&i)>127&&(f=s);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(s=(15&c)<<12|(63&i)<<6|63&a)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:i=t[o+1],a=t[o+2],u=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&u)&&(s=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(f=s)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(t){var e=t.length;if(e<=Y)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Y));return n}(r)}function x(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function C(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=R(t[i]);return o}function P(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function S(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function A(t,e,n,r,o,a){if(!i.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function j(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(t,e,n,r,o){return o||j(t,0,n,4),U.write(t,e,n,r,23,4),n+4}function k(t,e,n,r,o){return o||j(t,0,n,8),U.write(t,e,n,r,52,8),n+8}function R(t){return t<16?"0"+t.toString(16):t.toString(16)}function I(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function B(t){return L.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}var L=n(94),U=n(95),D=n(96);e.Buffer=i,e.SlowBuffer=function(t){return+t!=t&&(t=0),i.alloc(+t)},e.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),i.poolSize=8192,i._augment=function(t){return t.__proto__=i.prototype,t},i.from=function(t,e,n){return a(null,t,e,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(t,e,n){return function(t,e,n,r){return u(e),e<=0?o(t,e):void 0!==n?"string"==typeof r?o(t,e).fill(n,r):o(t,e).fill(n):o(t,e)}(null,t,e,n)},i.allocUnsafe=function(t){return s(null,t)},i.allocUnsafeSlow=function(t){return s(null,t)},i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,a=Math.min(n,r);o<a;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!D(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return i.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=i.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},i.byteLength=l,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},i.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},i.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},i.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return w(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t,e,n,r,o){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var a=o-r,u=n-e,s=Math.min(a,u),c=this.slice(r,o),f=t.slice(e,n),l=0;l<s;++l)if(c[l]!==f[l]){a=c[l],u=f[l];break}return a<u?-1:u<a?1:0},i.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},i.prototype.indexOf=function(t,e,n){return p(this,t,e,n,!0)},i.prototype.lastIndexOf=function(t,e,n){return p(this,t,e,n,!1)},i.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return y(this,t,e,n);case"latin1":case"binary":return g(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Y=4096;i.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),i.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=i.prototype;else{var o=e-t;n=new i(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+t]}return n},i.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||S(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},i.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||S(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},i.prototype.readUInt8=function(t,e){return e||S(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||S(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||S(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||S(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||S(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||S(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},i.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||S(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},i.prototype.readInt8=function(t,e){return e||S(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){e||S(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){e||S(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return e||S(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||S(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||S(t,4,this.length),U.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||S(t,4,this.length),U.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||S(t,8,this.length),U.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||S(t,8,this.length),U.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||A(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},i.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||A(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},i.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},i.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);A(this,t,e,n,o-1,-o)}var i=0,a=1,u=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===u&&0!==this[e+i-1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+n},i.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);A(this,t,e,n,o-1,-o)}var i=n-1,a=1,u=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===u&&0!==this[e+i+1]&&(u=1),this[e+i]=(t/a>>0)-u&255;return e+n},i.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,n){return N(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return N(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return k(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return k(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,a=r-n;if(this===t&&n<e&&e<r)for(o=a-1;o>=0;--o)t[o+e]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},i.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var u=i.isBuffer(t)?t:I(new i(t,r).toString()),s=u.length;for(a=0;a<n-e;++a)this[a+e]=u[a%s]}return this};var H=/[^+\/0-9A-Za-z-_]/g}).call(this,n(93))},function(t,e,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":o(window))&&(r=window)}t.exports=r},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function o(t){return a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}function i(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push(o(r));return i.join("")}e.byteLength=function(t){var e=r(t),n=e[0],o=e[1];return 3*(n+o)/4-o},e.toByteArray=function(t){for(var e,n=r(t),o=n[0],i=n[1],a=new s(function(t,e,n){return 3*(e+n)/4-n}(0,o,i)),c=0,f=i>0?o-4:o,l=0;l<f;l+=4)e=u[t.charCodeAt(l)]<<18|u[t.charCodeAt(l+1)]<<12|u[t.charCodeAt(l+2)]<<6|u[t.charCodeAt(l+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=255&e;return 2===i&&(e=u[t.charCodeAt(l)]<<2|u[t.charCodeAt(l+1)]>>4,a[c++]=255&e),1===i&&(e=u[t.charCodeAt(l)]<<10|u[t.charCodeAt(l+1)]<<4|u[t.charCodeAt(l+2)]>>2,a[c++]=e>>8&255,a[c++]=255&e),a},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],u=0,s=n-r;u<s;u+=16383)o.push(i(t,u,u+16383>s?s:u+16383));return 1===r?(e=t[n-1],o.push(a[e>>2]+a[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(a[e>>10]+a[e>>4&63]+a[e<<2&63]+"=")),o.join("")};for(var a=[],u=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,l=c.length;f<l;++f)a[f]=c[f],u[c.charCodeAt(f)]=f;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(t,e,n){"use strict";e.read=function(t,e,n,r,o){var i,a,u=8*o-r-1,s=(1<<u)-1,c=s>>1,f=-7,l=n?o-1:0,d=n?-1:1,p=t[e+l];for(l+=d,i=p&(1<<-f)-1,p>>=-f,f+=u;f>0;i=256*i+t[e+l],l+=d,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+t[e+l],l+=d,f-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,u,s,c=8*i-o-1,f=(1<<c)-1,l=f>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),(e+=a+l>=1?d/s:d*Math.pow(2,1-l))*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(e*s-1)*Math.pow(2,o),a+=l):(u=e*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;t[n+p]=255&u,p+=h,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;t[n+p]=255&a,p+=h,a/=256,c-=8);t[n+p-h]|=128*m}},function(t,e,n){"use strict";var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,n){"use strict";!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;i<4;i++)8*r+6*i<=8*t.length?n.push(e.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"},e=document.createElement("div").style,n="";for(var r in t)if(t.hasOwnProperty(r)&&r in e){n=t[r];break}return n}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){function n(t){if(0==t.ret){var n=document.getElementById("ticket"),r=document.getElementById("TCaptcha");n&&(n.value=t.ticket,(0,o.removeClass)(r,"captch-absolute"),e&&e())}}function i(){var e=t.type||"popup";(r.isMobile||r.isApp)&&(e="point");var i={callback:n,showHeader:!0,type:e},a=document.getElementById("TCaptcha"),u=a.innerHTML.trim();"embed"===e&&(0,o.addClass)(a,"captch-absolute"),u?capRefresh(a,i):(capDestroy(),capInit(a,i))}(function(t){return new Promise(function(e,n){if(!document.getElementById("TCaptcha")){var r=document.createElement("div");r.id="TCaptcha",document.body.appendChild(r)}if(document.getElementById("ticket"))document.getElementById("ticket").value="";else{var o=document.createElement("input");o.id="ticket",o.type="hidden",document.body.appendChild(o)}if(document.getElementById("verity_tencent"))document.getElementById("verity_tencent").src=t;else{var i=document.createElement("script");i.src=t,i.async=!0,i.id="verity_tencent",document.body.appendChild(i)}e()})})("string"==typeof t?t:t.url).then(function(){var t=document.getElementById("verity_tencent");t.onload=function(){i()};try{i()}catch(t){}})};var r=n(8),o=n(4)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(3)),i=r(n(99)),a=n(8),u=n(22);e.default=function t(e,n,r){var s=document.getElementById("ticket");(0,a.ajaxJson)({url:e.url,type:e.type||"GET",data:(0,o.default)({},e.data,s&&s.value?{ticket:s.value}:{})}).then(function(o){if(s&&(s.value=""),"failed"===o.status){if("captcha_required"===o.message){var a=o.payload;return void(0,i.default)({url:a.touch_cap_url,type:e.captch_type||"popup"},function(){t(e,n,r)})}r?r(o):(0,u.errorMsg)(o.description)}else n&&n(o)})}},function(t,e,n){
"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=void 0;e.default=function(t){return function(e,n){var o=t;return function t(){0!==o?(e(o),r&&clearTimeout(r),r=setTimeout(function(){o--,t()},1e3)):n(o)}(),{reset:function(){r&&clearTimeout(r)}}}}},function(t,e,n){"use strict";(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(r,o){var i={};r.PubSub=i;var a=r.define;!function(t){function e(t){var e;for(e in t)if(t.hasOwnProperty(e))return!0;return!1}function r(t,e,n){try{t(e,n)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function o(t,e,n){t(e,n)}function i(t,e,n,i){var a,s=u[e],c=i?o:r;if(u.hasOwnProperty(e))for(a in s)s.hasOwnProperty(a)&&c(s[a],t,n)}function a(t,r,o,a){var s=function(t,e,n){return function(){var r=String(t),o=r.lastIndexOf(".");for(i(t,t,e,n);-1!==o;)r=r.substr(0,o),o=r.lastIndexOf("."),i(t,r,e,n)}}(t="symbol"===(void 0===t?"undefined":n(t))?t.toString():t,r,a),c=function(t){for(var n=String(t),r=Boolean(u.hasOwnProperty(n)&&e(u[n])),o=n.lastIndexOf(".");!r&&-1!==o;)n=n.substr(0,o),o=n.lastIndexOf("."),r=Boolean(u.hasOwnProperty(n)&&e(u[n]));return r}(t);return!!c&&(!0===o?s():setTimeout(s,0),!0)}var u={},s=-1;t.publish=function(e,n){return a(e,n,!1,t.immediateExceptions)},t.publishSync=function(e,n){return a(e,n,!0,t.immediateExceptions)},t.subscribe=function(t,e){if("function"!=typeof e)return!1;t="symbol"===(void 0===t?"undefined":n(t))?t.toString():t,u.hasOwnProperty(t)||(u[t]={});var r="uid_"+String(++s);return u[t][r]=e,r},t.subscribeOnce=function(e,n){var r=t.subscribe(e,function(){t.unsubscribe(r),n.apply(this,arguments)});return t},t.clearAllSubscriptions=function(){u={}},t.clearSubscriptions=function(t){var e;for(e in u)u.hasOwnProperty(e)&&0===e.indexOf(t)&&delete u[e]},t.unsubscribe=function(e){var n,r,o,i="string"==typeof e&&(u.hasOwnProperty(e)||function(t){var e;for(e in u)if(u.hasOwnProperty(e)&&0===e.indexOf(t))return!0;return!1}(e)),a=!i&&"string"==typeof e,s="function"==typeof e,c=!1;if(!i){for(n in u)if(u.hasOwnProperty(n)){if(r=u[n],a&&r[e]){delete r[e],c=e;break}if(s)for(o in r)r.hasOwnProperty(o)&&r[o]===e&&(delete r[o],c=!0)}return c}t.clearSubscriptions(e)}}(i),"function"==typeof a&&a.amd?a(function(){return i}):"object"===n(e)&&(void 0!==t&&t.exports&&(e=t.exports=i),e.PubSub=i,t.exports=e=i)}("object"===("undefined"==typeof window?"undefined":n(window))&&window||void 0)}).call(this,n(101)(t))},function(t,e,n){"use strict";n(105),t.exports=n(2).Array.forEach},function(t,e,n){"use strict";var r=n(11),o=n(43)(0),i=n(44)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t=(0,i.default)({},s,t),n=e.classnameMask,r=e.classnamePanel,o=e.classnamePrefix,a=e.classnameContainer,f=e.classnameMountNode,l=e.classnameCloseButton,d=e.classnameBodyWrapper,p=e.classnameTitleWrapper,h=function(t){return function(e){return""+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")+t+"-"+e}}(o);if(t._cls=h,(0,u.query)("."+h(f)).lenght)return!1;var m=document.createElement("div");m.className=h(f),m.style.display="none",m.innerHTML='\n  <div class="'+h(n)+'">\n    <div class="'+h(a)+'">\n      <div class="'+h(r)+'">\n        <div class="'+h(p)+'"></div>\n        <div class="'+h(d)+'"></div>\n        '+c(t)+"\n      </div>\n    </div>\n  </div>\n  ",document.body.appendChild(m),(0,i.default)(this,{settings:t,mountNode:m,rootNode:(0,u.query)(h(a,"."),m)[0],titleMount:(0,u.query)(h(p,"."),m)[0],bodyMount:(0,u.query)(h(d,"."),m)[0]}),u.domEvent.on((0,u.query)(h(l,"."),m)[0],"click",(0,u.bind)(this._handleClose,this)),u.domEvent.on(document,"keyup",(0,u.bind)(this._handleESC,this))}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(3)),a=r(n(104)),u=n(4),s={classnamePrefix:"ui-dialog",classnameMask:"mask",classnameMountNode:"mountnode",classnameContainer:"container",classnamePanel:"panel",classnameCloseButton:"lnk-close",classnameTitle:"panel-title",classnameBody:"panel-body",classnameBodyWrapper:"body-wrapper",classnameTitleWrapper:"title-wrapper"},c=function(t){return'\n  <a href="javascript:;"\n  class="'+(0,t._cls)(t.classnameCloseButton)+'">\n    &times;\n  </a>\n'},f=new Function;(0,i.default)(o.prototype,{_content_ids:[],_current_panel:null,_panel_settings:{},_getContentId:function(t){return this.settings.classnamePrefix+"-id-"+t},setting:function(t,e,n){if(this._panel_settings[t])return this._panel_settings[t][e]=n,this},title:function(t,e){var n=this.titleMount,r=this.settings;return n.innerHTML=e?function(t,e){return'\n  <div class="'+(0,e._cls)(e.classnameTitle)+'">\n    <span>'+t+"</span>\n  </div>\n"}(e,r):"",this._panel_settings[t].title=e,this},content:function(t,e,n){if(t){var r=this.bodyMount,o=this.settings,a=o._cls,u=o.classnameBody,s=this,c=this._getContentId(t),l=document.getElementById(c);return l?l.innerHTML=e:((l=document.createElement("div")).id=c,l.style.display="none",l.className=a(u),l.innerHTML=e,r.appendChild(l),this._content_ids.push(c)),this._panel_settings[t]=(0,i.default)({displayClose:!0,onInit:f,onOpen:f,onClose:f},n||{}),this._panel_settings[t].onInit(),{open:function(){s.open(t)},close:function(){s.close(t)}}}},open:function(t){if(t){if(!this._panel_settings[t])throw new Error("对话框[ID:"+t+"]不存在");if(this._current_panel=t,0!==this._content_ids.lenght){var e=this._getContentId(t);(0,a.default)(this._content_ids,function(t){t!==e?function(t){document.getElementById(t).style.display="none"}(t):function(t){document.getElementById(t).style.display="block"}(t)});var n=this.settings,r=n._cls,o=n.classnameCloseButton,i=this._panel_settings[t],s=i.onOpen,c=i.title,f=i.displayClose;this.mountNode.style.display="block",this.title(t,c),(0,u.query)("."+r(o),this.mountNode)[0].style.display=f?"block":"none",s()}}},close:function(){this.mountNode.style.display="none",this._current_panel&&this._panel_settings[this._current_panel].onClose(),this._current_panel=null},_handleClose:function(){this.close()},_handleESC:function(t){this._current_panel&&!this._panel_settings[this._current_panel].displayClose||27===t.keyCode&&this.close()}}),e.default=function(t){return new o(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){!function(t,e){(0,r.default)({url:"https://www.douban.com/stat.html?",data:e,success:function(t){}})}(0,e)};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(108))},function(t,e,n){"use strict";(function(t){var r;(function(){var o,i,a,u,s,c,f,l;a=function(t){return window.document.createElement(t)},u=window.encodeURIComponent,f=Math.random,o=function(t){var e,n,r,o,u,c,f;if(null==t&&(t={}),(c={data:t.data||{},error:t.error||s,success:t.success||s,beforeSend:t.beforeSend||s,complete:t.complete||s,url:t.url||""}).computedUrl=i(c),0===c.url.length)throw new Error("MissingUrl");return o=!1,!1!==c.beforeSend({},c)&&(r=t.callbackName||"callback",n=t.callbackFunc||"jsonp_"+l(15),e=c.data[r]=n,window[e]=function(t){return window[e]=null,c.success(t,c),c.complete(t,c)},(f=a("script")).src=i(c),f.async=!0,f.onerror=function(t){return c.error({url:f.src,event:t}),c.complete({url:f.src,event:t},c)},f.onload=f.onreadystatechange=function(){var t,e;if(!(o||"loaded"!==(t=this.readyState)&&"complete"!==t))return o=!0,f?(f.onload=f.onreadystatechange=null,null!=(e=f.parentNode)&&e.removeChild(f),f=null):void 0},(u=window.document.getElementsByTagName("head")[0]||window.document.documentElement).insertBefore(f,u.firstChild)),{abort:function(){if(window[e]=function(){return window[e]=null},o=!0,null!=f?f.parentNode:void 0)return f.onload=f.onreadystatechange=null,f.parentNode.removeChild(f),f=null}}},s=function(){},i=function(t){var e;return e=t.url,e+=t.url.indexOf("?")<0?"?":"&",e+=c(t.data)},l=function(t){var e;for(e="";e.length<t;)e+=f().toString(36).slice(2,3);return e},c=function(t){var e,n;return function(){var r;for(e in r=[],t)n=t[e],r.push(u(e)+"="+u(n));return r}().join("&")},(null!==n(109)?n(110):void 0)?void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r):(void 0!==t&&null!==t?t.exports:void 0)?t.exports=o:this.JSONP=o}).call(void 0)}).call(this,n(101)(t))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n(68);e.default=function(){var t=(0,r.query)(".account-body")[0];(0,r.query)("input",t).filter(function(t){return"captcha-solution"!==t.name}).map(function(t){r.domEvent.on(t,"focus",function(e){if("password"===t.type){var n=(0,r.query)(".openpwd",t.parentNode)[0];(0,r.removeClass)(n,"hide")}else{var o=(0,r.query)(".clear-input",t.parentNode)[0];(0,r.query)(".clear-input",t.parentNode.parentNode).map(function(t){(0,r.addClass)(t,"hide")}),(0,r.removeClass)(o,"hide")}})}),r.domEvent.on(t,"input",r.domEvent.filter(["input"].join(","),function(t){(0,o.checkInputIsNull)();var e=t.target;"username"!==e.type&&"phone"!==e.type||((0,r.query)("input[type=password]")[0].value="")})),r.domEvent.on(t,"click",r.domEvent.filter(".clear-input",function(t){t.preventDefault(),(0,r.query)("input",t.target.parentNode)[0].value="",(0,r.addClass)(t.target,"hide")}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=r(n(47)),i=r(n(103)),a=r(n(3)),u=n(4),s=r(n(102)),c=r(n(106)),f=n(8),l=n(90),d=r(n(111)),p=r(n(100)),h=r(n(99)),m=n(22),v=n(68),y=r(n(107));n(196);var g=i.default.subscribe,_=i.default.publish,b=(0,c.default)(),w=location.hash.replace("#",""),E=o.default.get("last_login_way"),x={currentTab:""},T=_REDIR.indexOf("passport")>-1?f.DOUBAN:_REDIR||f.DOUBAN,C=void 0,P=void 0,S=void 0,A=!1,O={},M=!1,j=!1,N=!1,k=_TMPL_ACCOUNT||"",R=_TMPL_PHONE||"",I=_TMPL_ABROAD||"",B=(0,u.query)(".account-body")[0],q=(0,u.query)(".account-form",B)[0],L=(0,u.query)(".account-tab-switch")[0],U="login-{name}",D=isAnony?"embed":"popup",Y=function(){return C&&P?((P.getTime()-C.getTime())/1e3).toFixed(3):0},H=function(){return"account"==x.currentTab?"douban":x.currentTab},F=function(t,e){var n=void 0;clearTimeout(n),t&&t(),n=setTimeout(function(){e&&e()},10)},z=function(){var t=(0,u.query)(".account-form-field-code")[0];(0,s.default)(60)(function(e){t.innerHTML="<em>"+e+"s 后重新发送</em>"},function(e){t.innerHTML='<a href="javascript:;">重新发送</a>'})},$=function t(){var e=O.area_code,n=O.number;O.email,(0,p.default)({url:l.API.request_phone_code,type:"POST",data:{area_code:e,number:n},captch_type:D},z,function(e){if("captcha_required"!==e.message)(0,m.errorMsg)(e.description);else{var n=e.payload;(0,h.default)({url:n.touch_cap_url,type:D},function(){t()})}})},Z=function(){clearInterval(S),u.domClass.removeClass((0,u.query)(".account-qr-fail")[0],"hide")},W=function(){var t=0;j||(j=!0,clearInterval(S),S=setInterval(function(){++t>120?Z():(0,f.ajaxJson)({url:l.API.qrlogin_status,data:{code:x.qr}}).then(function(t){var e=t.payload.login_status;"success"===t.status?("scan"===e?(C=new Date,u.domClass.addClass((0,u.query)(".account-qr-code")[0],"hide"),u.domClass.removeClass((0,u.query)(".account-qr-success")[0],"hide")):"login"===e?(clearInterval(S),o.default.set("last_login_way","qrcode"),F(function(){(0,y.default)(document,{action:"login_success",platform:"qrcode"}),P=new Date,(0,y.default)(document,{login_success_duration:Y(),platform:"qrcode"})},function(){top.location.href=T})):"invalid"===e?(V((0,u.query)(".account-qr-scan")[0]),(0,y.default)(document,{login_error:"qr_invalid",platform:"qrcode"})):"cancel"===e&&(clearInterval(S),(0,y.default)(document,{login_error:"qr_cancel",platform:"qrcode"}),u.domClass.removeClass((0,u.query)(".account-qr-code")[0],"hide"),u.domClass.removeClass((0,u.query)(".account-qr-fail")[0],"hide"),u.domClass.addClass((0,u.query)(".account-qr-success")[0],"hide")),j=!1):(Z(),j=!1)})},3e3))},V=function t(e){var n=0;M||(M=!0,(0,f.ajaxJson)({url:l.API.qrlogin_code,type:"POST"}).then(function(r){"success"===r.status?(A||(0,y.default)(document,{action:"login_start",platform:"qrcode"}),A=!0,x.qr=r.payload.code,e.innerHTML='<img src="'+r.payload.img+'" />',u.domClass.addClass((0,u.query)(".account-qr-fail")[0],"hide"),W(),M=!1):(n<10&&(n+=1,t(e)),M=!1)}))},J=function(t){return function(e){if(e!==x.currentTab){var n=x.currentTab;if(["account","phone"].indexOf(e)>-1){var r="abroad"==n?(0,u.query)(".account-tab-account")[0]:(0,u.query)(".account-tab-"+n)[0];r&&u.domClass.removeClass(r,"on"),u.domClass.addClass((0,u.query)(".account-tab-"+e)[0],"on")}t.call(void 0),N=!1,x.currentTab=e}}};g("account",J(function(){q.innerHTML=k,(0,u.query)(".account-form-link")[0].innerHTML='<a class="login-switch login-abroad" href="javascript:;">海外手机登录</a>',(0,d.default)()})),g("abroad",J(function(){q.innerHTML=I,(0,u.query)(".account-form-link")[0].innerHTML='<a class="login-switch login-account" href="javascript:;">帐号密码登录</a>',(0,d.default)()})),g("phone",J(function(){q.innerHTML=R,(0,f.getField)("phone").value=o.default.get("user_phone")||"",(0,u.query)(".account-form-link")[0].innerHTML='<a class="help-link" target="_blank" data-action="login_phone_nocode" href="https://help.douban.com/account?app=1#t1-q8">收不到验证码</a>',(0,d.default)()}));var X=function t(e){e=e||(0,u.query)("a.btn",B)[0];var n=document.getElementById("ticket"),r=(0,a.default)({},O,{ticket:n?n.value:""});(0,f.ajaxJson)({url:l.API.basic,type:"POST",data:r}).then(function(n){if(x.number&&o.default.set("user_phone",O.name),"success"===n.status)o.default.set("last_login_way","account"),F(function(){(0,y.default)(e,{action:"login_success",platform:H()}),P=new Date,(0,y.default)(document,{login_success_duration:Y(),platform:H(),login_end_time:P.getTime()})},function(){top.location.href=T});else{if((0,y.default)(document,{login_error:n.message,platform:H()}),"captcha_required"===n.message){var r=n.payload;return void(0,h.default)({url:r.touch_cap_url,type:D},t)}"uncommon_loc_login"===n.message&&(b.content("confirm_phone",function(t){var e=t.text,n=t.btnTxt;return'\n  <div class="confirm">\n    <div class="confirm-text">'+e+'</div>\n    <div class="confirm-btns">\n      <a class="'+t.btnCls+'" href="javascript:;">'+n+"</a>\n    </div>\n  </div>\n  "}({text:"你在可疑的地点登录，请验证手机号登录",btnTxt:"确定",btnCls:"btn-confirm"}),{onInit:function(){u.domEvent.on(function(t){return(0,u.query)(t,b.rootNode)[0]}(".confirm-btns a"),"click",function(t){b.close(),location.href=location.href+(w?"":"#offsite"),location.reload()})}}),b.open("confirm_phone")),e.innerText="登录豆瓣",(0,m.errorMsg)(n.description)}})};u.domEvent.on(B,"click",u.domEvent.filter([".account-tab-account",".account-tab-phone"].join(","),function(t){var e=t.target.className.match(/account-tab-(\w+)/i)[1];_(e)})),u.domEvent.on(L,"click",u.domEvent.filter("a",function(t){var e=t.target;clearInterval(S),(0,u.hasClass)(e,"start")?(u.domClass.removeClass(B,(0,u.cls)(U,"quick")),u.domClass.addClass(B,(0,u.cls)(U,"start")),N=!1,_("phone")):(u.domClass.removeClass(B,(0,u.cls)(U,"start")),u.domClass.addClass(B,(0,u.cls)(U,"quick")),V((0,u.query)(".account-qr-scan",B)[0]))})),u.domEvent.on(B,"click",u.domEvent.filter(".account-qr-link>a",function(t){var e=t.target.className.match(/link-(\w+)/i)[1];u.domClass.removeClass(B,(0,u.cls)(U,"quick")),u.domClass.addClass(B,(0,u.cls)(U,"start")),N=!1,_("account"===e?"account":"phone")})),u.domEvent.on(B,"click",u.domEvent.filter(".account-qr-refresh",function(t){V((0,u.query)(".account-qr-scan",B)[0])})),u.domEvent.on(B,"click",u.domEvent.filter(".account-form-field-code>a",function(t){t.preventDefault(),t.target;var e=(0,u.query)(".js-choose-district")[0].innerText.trim(),n=(0,f.getField)("phone").value;(0,v.checkInput)(e+n,"phone")&&(O.area_code=e,O.number=n,$())})),u.domEvent.on(B,"click",u.domEvent.filter(".account-form-link a.login-switch",function(t){t.preventDefault();var e=t.target;(0,u.hasClass)(e,"login-abroad")?_("abroad"):(0,u.hasClass)(e,"login-account")&&_("account")})),u.domEvent.on(B,"click",u.domEvent.filter(".account-qr-success-bd-link a",function(t){t.preventDefault(),t.target,u.domClass.removeClass((0,u.query)(".account-qr-code",B)[0],"hide"),u.domClass.addClass((0,u.query)(".account-qr-success",B)[0],"hide")}));var G=function(t){if(t.innerText="登录中...",(0,y.default)(document,{action:"login_click",platform:H(),login_click_time:(new Date).getTime()}),(0,u.hasClass)(t,"btn-account")){var e=(0,f.getField)("phone"),n=(0,f.getField)("username"),r=(0,f.getField)("password").value;if(n){var i=n.value;O.name=i}else if(e){var s=(0,u.query)(".js-choose-district")[0].innerText.trim(),c=e.value;if(!(0,v.checkInput)(s+c,"phone"))return;x.number=c,O.name=s+c}O.password=r,O.remember=(0,u.query)("input[name=remember]")[0].checked,X(t)}else if((0,u.hasClass)(t,"btn-phone")){var d=(0,u.query)(".js-choose-district")[0].innerText.trim(),p=(0,f.getField)("phone").value,g=(0,f.getField)("code").value;if(!(0,v.checkInput)(d+p,"phone")||!(0,v.checkInput)(g,"code"))return;O.code=g,O.remember=(0,u.query)("input[name=remember]")[0].checked,o.default.set("user_data",JSON.stringify({area_code:d,number:p,code:g})),function(t,e){var n=document.getElementById("ticket");(0,f.ajaxJson)({url:l.API.verify_phone_code,type:"POST",data:(0,a.default)(e,{ticket:n?n.value:""})}).then(function(e){if("success"===e.status){var n=e.payload,r=n.account_info,i=n.vtoken;o.default.set("vtoken",i),o.default.set("last_login_way","phone"),r&&r.id?F(function(){(0,y.default)(t,{action:"login_success",platform:H()}),P=new Date,(0,y.default)(document,{login_success_duration:Y(),platform:H(),login_end_time:P.getTime()})},function(){top.location.href=T}):F(function(){(0,y.default)(t,{action:"register_next"})},function(){top.location.href="/accounts/passport/register"})}else{if((0,y.default)(document,{login_error:e.message,platform:H()}),"captcha_required"===e.message){var a=e.payload;return void(0,h.default)({url:a.touch_cap_url,type:D},$)}t.innerText="登录豆瓣",(0,m.errorMsg)(e.description)}})}(t,O)}};u.domEvent.on(B,"click",u.domEvent.filter("a.btn",function(t){t.preventDefault();var e=t.target;(0,u.hasClass)(e,f.BTN_ACTIVE)&&G(e)})),u.domEvent.on(B,"keyup",u.domEvent.filter("input",function(t){13===t.keyCode&&G((0,u.query)("a.btn",B)[0])}));var K=function t(e){var n=e.target;N||(C=new Date,o.default.set("login_start_time",C.getTime()),(0,y.default)(n,{action:"login_start",platform:H(),login_start_time:C.getTime(),login_browser:JSON.stringify(function(){var t={},e=navigator.userAgent.toLowerCase().match(/(msie|firefox|chrome|opera|version).*?([\d.]+)/);return t.browser=e[1].replace(/version/,"'safari"),t.ver=e[2],t}())})),N=!0,u.domEvent.off(B,"keyup",u.domEvent.filter("input",t))};"offsite"==w?(_("phone"),(0,u.query)(".account-tab-account",B)[0].style.display="none"):"qrcode"==E?(u.domClass.removeClass(B,(0,u.cls)(U,"start")),u.domClass.addClass(B,(0,u.cls)(U,"quick")),V((0,u.query)(".account-qr-scan",B)[0])):_(E||"phone"),(0,d.default)(),u.domEvent.on(B,"keyup",u.domEvent.filter("input",K)),u.domEvent.on(B,"click",u.domEvent.filter(".account-form-3rd-bd a",function(t){var e=t.target;(0,y.default)(e,{action:"login_start",platform:e.innerText}),o.default.get("ck")&&(t.preventDefault(),(0,f.ajaxJson)({type:"POST",url:l.API.logout}).then(function(e){location.href=t.target.href}))})),u.domEvent.on(B,"click",u.domEvent.filter(".account-form-link a.help-link",function(t){var e=t.target;t.preventDefault(),(0,y.default)(e,{type:"pc",action:e.getAttribute("data-action")}),window.open(e.href,"_blank")}))},,,,,,,,,,,,,,,,,,,,,,,function(t,e){}]);